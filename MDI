# SISTEMA_FACTURACION

CREATE DATABASE SISTEMA_FACTURACION
USE SISTEMA_FACTURACION

CREATE TABLE FACTURA_VENTA
(
	
)

JUAN MANUEL ALVAREZ RESTREPO

CREATE DATABASE SISTEMA_FACTURACION
USE SISTEMA_FACTURACION

CREATE TABLE PRODUCTO
(
ID_PRODUCTO CHAR (15) NOT NULL,
NOMBRE VARCHAR (20) NOT NULL,
PRECIO_ACTUAL FLOAT,
VALOR_TOTAL FLOAT,
STOCK INT,
ID_CATEGORIA CHAR(15) NOT NULL

)

CREATE TABLE CATEGORIA
(
ID_CATEGORIA CHAR(15) NOT NULL, 
NOMBRE VARCHAR (20) NOT NULL,
DESCRIPCION VARCHAR (30)

)

--AGREGAR CLAVES PRIMARIAS
ALTER TABLE PRODUCTO
ADD CONSTRAINT PK_PRODUCTO PRIMARY KEY (ID_PRODUCTO)
ALTER TABLE CATEGORIA
ADD CONSTRAINT PK_CATEGORIA PRIMARY KEY (ID_CATEGORIA)
--AGREGAR CLAVES FORANIAS
ALTER TABLE PRODUCTO
ADD CONSTRAINT FK_PRODUCTO_CATEGORIA FOREIGN KEY (ID_CATEGORIA)
REFERENCES CATEGORIA (ID_CATEGORIA)

--PROCEDIMIENTOS ALMACENADOS (PRODUCTO)

CREATE PROCEDURE USP_INSERTAR_PRODUCTO

@ID_PRODUCTO CHAR (15),
@NOMBRE VARCHAR (20),
@PRECIO_ACTUAL FLOAT,
@VALOR_TOTAL FLOAT,
@STOCK INT,
@ID_CATEGORIA CHAR(15)

AS
BEGIN
INSERT INTO PRODUCTO (ID_PRODUCTO, NOMBRE, PRECIO_ACTUAL, VALOR_TOTAL,
STOCK,ID_CATEGORIA) VALUES (@ID_PRODUCTO, @NOMBRE, @PRECIO_ACTUAL, @VALOR_TOTAL,
@STOCK, @ID_CATEGORIA)
END

CREATE PROCEDURE USP_ACTUALIZAR_PRODUCTO

@ID_PRODUCTO CHAR (15),
@NOMBRE VARCHAR (20),
@PRECIO_ACTUAL FLOAT,
@VALOR_TOTAL FLOAT,
@STOCK INT,
@ID_CATEGORIA CHAR(15)

AS
BEGIN
UPDATE PRODUCTO SET NOMBRE = @NOMBRE, PRECIO_ACTUAL = @PRECIO_ACTUAL,
VALOR_TOTAL = @VALOR_TOTAL, STOCK = @STOCK, ID_CATEGORIA = @ID_CATEGORIA WHERE ID_PRODUCTO = @ID_PRODUCTO
END

CREATE PROCEDURE USP_ELIMINAR_PRODUCTO

@ID_PRODUCTO CHAR (15)
AS
BEGIN
DELETE FROM PRODUCTO WHERE ID_PRODUCTO = @ID_PRODUCTO
END

CREATE PROCEDURE USP_CONSULTAR_PRODUCTO

@ID_PRODUCTO CHAR (15)

AS
BEGIN SELECT * FROM PRODUCTO WHERE ID_PRODUCTO = @ID_PRODUCTO
END

CREATE PROCEDURE USP_LISTAR_PRODUCTO
AS
BEGIN
SELECT * FROM PRODUCTO
END

--PROCEDIMIENTOS ALMACENADOS CATEGORIA

CREATE PROCEDURE USP_INSERTAR_CATEGORIA

@ID_CATEGORIA CHAR(15), 
@NOMBRE VARCHAR (20),
@DESCRIPCION VARCHAR (30)

AS
BEGIN
INSERT INTO CATEGORIA(ID_CATEGORIA, NOMBRE,DESCRIPCION) VALUES (@ID_CATEGORIA, @NOMBRE, @DESCRIPCION)
END

CREATE PROCEDURE USP_ACTUALIZAR_CATEGORIA

@ID_CATEGORIA CHAR(15), 
@NOMBRE VARCHAR (20),
@DESCRIPCION VARCHAR (30)
AS
BEGIN
UPDATE CATEGORIA SET NOMBRE = @NOMBRE, DESCRIPCION = @DESCRIPCION WHERE ID_CATEGORIA = @ID_CATEGORIA
END

CREATE PROCEDURE USP_ELIMINAR_CATEGORIA

@ID_CATEGORIA CHAR(15)
AS
BEGIN
DELETE FROM CATEGORIA WHERE ID_CATEGORIA = @ID_CATEGORIA
END

CREATE PROCEDURE USP_CONSULTAR_CATEGORIA

@ID_CATEGORIA CHAR(15)

AS
BEGIN SELECT * FROM CATEGORIA WHERE ID_CATEGORIA = @ID_CATEGORIA
END

CREATE PROCEDURE USP_LISTAR_CATEGORIA
AS
BEGIN
SELECT * FROM CATEGORIA
END
